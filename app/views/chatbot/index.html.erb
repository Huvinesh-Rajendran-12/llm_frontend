<!-- app/views/chatbot/index.html.erb -->
<div class="flex flex-col h-screen bg-gradient-to-r from-blue-900 to-teal-800 p-4">
  <h1 class="text-2xl font-bold text-white mb-4">Teleme Health Agent</h1>

  <div class="flex-1 bg-white bg-opacity-10 rounded-lg overflow-hidden flex flex-col">
    <div id="messages" class="flex-1 overflow-y-auto p-4 space-y-4">
      <%= turbo_stream_from "chatbot" %>
      <!-- Messages will be inserted here -->
    </div>

    <!-- Input area -->
    <%= form_with(url: send_message_path, method: :post, class: "p-4 bg-white bg-opacity-5", data: { controller: "chat", action: "submit->chat#sendMessage" }) do |f| %>
      <div class="flex space-x-2">
        <%= f.text_field :message, id: 'message-input', autocomplete: 'off', placeholder: "Type your message here...", class: "flex-1 bg-white bg-opacity-20 text-white placeholder-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500" %>
        <%= f.button 'Send', type: 'submit', class: "bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500" %>
      </div>
    <% end %>
  </div>
</div>
